# Тема 7 Работа с файлами(ввод и вывод)
Отчет по Теме #7 выполнил(а):
- Новиков Павел Алексеевич
- ПИЭ22-1
  
| Задание | Лаб_раб | Сам_раб |
| ------ | ------ | ------ |
| Задание 1 | + | + |
| Задание 2 | + | + |
| Задание 3 | + | + |
| Задание 4 | + | + |
| Задание 5 | + | + |
| Задание 6 | + |  |
| Задание 7 | + |  |
| Задание 8 | + |  |
| Задание 9 | + |  |
| Задание 10 | + |  |


знак "+" - задание выполнено; знак "-" - задание не выполнено;

Работу проверили:
- к.э.н., доцент Панов М.А.

***Лабораторная работа***

Задание 1

![image](https://github.com/user-attachments/assets/bb0f4214-a217-4cdd-a790-84af59a70569)

Задание 2

```py
f = open('input.txt ', 'r')
print(f.readline())
f.close()
```

![image](https://github.com/user-attachments/assets/bd26bd5d-5ced-4541-a34c-36cd01419c1c)

Задание 3

```py
f = open('input.txt', 'r')
print(f.readlines())
f.close()
```

![image](https://github.com/user-attachments/assets/7b8db516-7564-459f-89a9-ec492d1c8de2)

Задание 4

```py
with open('input.txt') as f:
    print(f.readlines())
```

![image](https://github.com/user-attachments/assets/9fc64e73-713d-424c-8ff3-3bfba33fdad5)

Задание 5

```py
with open('input.txt') as f:
    for line in f:
        print(line)
```

Задание 6 

```py
with open('input.txt', 'a+') as f:
    f.write('\nIm additional line')

with open('input.txt', 'r') as f:
    result = f.readlines()
    print(result)
```

![image](https://github.com/user-attachments/assets/189969c4-67be-48a7-b080-c07956ce3cef)

Задание 7

```py
lines = ['one', 'two', 'three']
with open('input.txt', 'w') as f:
    for line in lines:
        f.write('\nCycle run ' + line)
    print('Done!')
```

![image](https://github.com/user-attachments/assets/932738bd-4a2a-4275-9c06-241da35f5f62)

![image](https://github.com/user-attachments/assets/b18f2bc2-25a9-4a78-989f-64d4dbfa8f4f)

Задание 8

```py
import os

def print_docs(directory):
    all_files = os.walk(directory)
    for catalog in all_files:
        print(f'Папка {catalog[0]} содержит:')
    print(f'Директории: {", ".join([folder for folder in catalog[1]])}')
    print(f'Файлы: {", ".join([file for file in catalog[2]])}')
    print('-' * 48)

print_docs('E:/1w')
```

![image](https://github.com/user-attachments/assets/f0be0f64-30e3-4216-a621-9874dd5f5262)


Задание 9

```py
def longest_words(file):
    with open(file, encoding='utf-8') as f:
        words = f.read().split()
        max_length = len(max(words, key=len))
        for word in words:
            if len(word) == max_length:
                sought_words = word

        if len(sought_words) == 1:
            return sought_words[0]
        return sought_words

print(longest_words('input.txt'))
```

![image](https://github.com/user-attachments/assets/5d0820e0-fbc9-45cd-8e63-17269b1a0528)

Задание 10

```py
import csv
import datetime
import time

with open('rows_300.csv', 'w', encoding='utf-8', newline='') as f:
    writer = csv.writer(f)
    writer.writerow(['№', 'Секунда', 'Микросекунда'])
    for line in range(1, 301):
        writer.writerow([line, datetime.datetime.now().second,
                         datetime.datetime.now().microsecond])
        time.sleep(0.01)
```

![image](https://github.com/user-attachments/assets/b691fb82-2124-4e80-9c83-95c326c93f83)

***Самостоятельная работа***

Задание 1

```py
from collections import Counter
import re

def count_words_in_file(filename):
    with open(filename, 'r', encoding='utf-8') as file:
        text = file.read().lower()
        words = re.findall(r'\b\w+\b', text)
        word_count = Counter(words)
        most_common_word = word_count.most_common(1)[0]
    return len(words), most_common_word

total_words, most_common_word = count_words_in_file("input.txt")
print(f"Общее количество слов: {total_words}")
print(f"Самое частое слово: '{most_common_word[0]}', количество вхождений: {most_common_word[1]}")
```

![image](https://github.com/user-attachments/assets/5f4aba4b-accb-4f43-a899-5d1067acec3e)


![image](https://github.com/user-attachments/assets/69f7bc31-c9b9-4362-b6b7-94327f617836)

Задание 2

```py
def add_expense(filename):
    with open(filename, 'a', encoding='utf-8') as file:
        expense = input("Введите описание расхода и сумму: ")
        file.write(expense + "\n")

def show_expenses(filename):
    with open(filename, 'r', encoding='utf-8') as file:
        expenses = file.readlines()
        if expenses:
            print("Ваши расходы:")
            for expense in expenses:
                print(expense.strip())
        else:
            print("Расходов нет.")

add_expense("expenses.txt")
add_expense("expenses.txt")
add_expense("expenses.txt")
show_expenses("expenses.txt")
```

![image](https://github.com/user-attachments/assets/32f90ee1-25c3-4501-8057-3dd53a66d66a)


![image](https://github.com/user-attachments/assets/2590d8b3-28a5-4e41-a4d9-474c66c7482e)


Задание 3

```py
import re

def text_statistics(filename):
    with open(filename, 'r', encoding='utf-8') as file:
        lines = file.readlines()
        num_lines = len(lines)
        num_words = 0
        num_letters = 0

        for line in lines:
            words = line.split()
            num_words += len(words)
            num_letters += len(re.findall(r'[a-zA-Z]', line))

        print(f"Количество букв латинского алфавита: {num_letters}")
        print(f"Количество слов: {num_words}")
        print(f"Количество строк: {num_lines}")

text_statistics("input.txt")
```

![image](https://github.com/user-attachments/assets/e0d0ba8a-0c8f-413e-b372-1322b700fe14)

Задание 4

```py
import re

def load_forbidden_words(filename):
    with open(filename, 'r', encoding='utf-8') as file:
        forbidden_words = file.read().split()
    return forbidden_words

def censor_sentence(sentence, forbidden_words):
    for word in forbidden_words:
        pattern = re.compile(re.escape(word), re.IGNORECASE)
        sentence = pattern.sub('*' * len(word), sentence)
    return sentence

forbidden_words = load_forbidden_words("input.txt")

sentence = input("Введите предложение для проверки: ")

censored_sentence = censor_sentence(sentence, forbidden_words)

print("Результат:", censored_sentence)
```

![image](https://github.com/user-attachments/assets/127173b2-0b76-4014-8197-29da51bffcb4)


Задание 5

При помощи библиотеки Pillow в директории circles  нарисуйте и сохраните 100 кругов радиусом 300 пикселей случайных цветов в формате jpg на белом фоне. Для этого напишите функцию.

```py
from random import randint
import os
from PIL import Image, ImageDraw

def circles_generator(num_of_circles=100):
    if not os.path.exists('circles'):
        os.mkdir('circles')

    for pic_name in range(1, num_of_circles + 1):
        img = Image.new('RGB', (600, 600), (255, 255, 255))
        draw = ImageDraw.Draw(img)
        draw.ellipse((0, 0, 600, 600), fill=(randint(0, 255), randint(0, 255), randint(0, 255)))
        img.save(f'circles/{pic_name}.jpg', quality=85)


circles_generator()
```

![image](https://github.com/user-attachments/assets/34dbb738-d15e-4970-8fe6-7a68ec4ccf28)












